/****************************
R M L  	1 0 1   小车正对轨迹
R M L	1 1 0	小车右偏
R M L	0 1 1	小车左偏
****************************/
#include<reg51.h>
sbit R=P1^0;//左边传感器
sbit M=P1^1;//中间传感器
sbit L=P1^2;//右边传感器
sbit RM=P1^3;//右边电机
sbit LM=P1^4;//左边电机

void main()
{
	RM=1;
	LM=1;//左右两个电机同时启动，直线前进
	while(1)
	{
		if((R==1)&&(M==1)&&(L==0))//小车右偏	
			{
				RM=1;
				LM=0;//左边的电机停止转动，右边的电机转动，这样就实现了左转	
			}
		if((R==0)&&(M==1)&&(L==1))//小车左偏	
			{
				RM=0;
				LM=1;//右边的电机停止转动，左边的电机转动，这样就实现了右转	
			}
		if((R==0)&&(M==1)&&(L==1))//小车居中	
			{
				RM=1;
				LM=1;//左右电机同时转，直线前进	
			}
	}
}